{"version":3,"sources":["src/components/InsufficientBalanceButton.tsx","src/components/AmountMeta.tsx","src/components/ApproveButton.tsx","src/hooks/useDelayedOnBlockEffect.tsx","src/components/TokenName.tsx","src/components/Notice.tsx","src/hooks/useDelayedEffect.tsx","src/components/TokenSymbol.tsx","src/components/TokenAmount.tsx","src/components/TokenPrice.tsx","src/components/TokenValue.tsx","src/hooks/useSwapRouter.tsx","src/components/TokenSearch.tsx","src/components/TokenSelect.tsx","src/components/UnsupportedButton.tsx","src/components/PriceImpactTooHighButton.tsx","src/hooks/useSwapState.tsx","src/screens/SwapScreen.tsx"],"names":["InsufficientBalanceButton","symbol","t","useTranslation","title","disabled","AmountMeta","props","useColors","textDark","textLight","placeholder","style","fontSize","IS_DESKTOP","marginBottom","Spacing","normal","color","amount","suffix","ApproveButton","approveToken","useContext","EthersContext","useState","loading","setLoading","onPress","useCallback","a","async","token","onError","address","spender","tx","wait","onSuccess","hidden","containerStyle","tiny","useDelayedOnBlockEffect","effect","getEventName","inputs","initialTimeout","addOnBlockListener","removeOnBlockListener","eventName","useAsyncEffect","setTimeout","handles","forEach","handle","clearTimeout","TokenName","caption","numberOfLines","ellipsizeMode","marginLeft","small","width","name","Notice","borderStyle","border","useStyles","clear","note","text","buttonText","onPressButton","type","size","fontWeight","titleStyle","buttonStyle","paddingHorizontal","paddingVertical","alignSelf","marginTop","useDelayedEffect","timeout","key","toString","TokenSymbol","medium","TokenAmount","formatBalance","balance","decimals","TokenPrice","formatUSD","priceUSD","TokenValue","valueUSD","FEE","Percent","useSwapRouter","allowedSlippage","swap","trade","signer","Router","getAddress","feeOnTransfer","recipient","ttl","params","swapCallParameters","router","getContract","ROUTER","estimateGas","methodName","args","value","gasLimit","functions","mul","div","logTransaction","map","arg","addLiquidity","fromToken","toToken","fromAmount","toAmount","deadline","Math","floor","Date","getTime","deduct","removeLiquidityETH","liquidity","amountETH","removeLiquidity","addLiquidityETH","calculateSwapFee","Loading","ActivityIndicator","position","right","bottom","TokenItem","accent","onSelectToken","Selectable","selected","ITEM_SEPARATOR_HEIGHT","FlexView","alignItems","TokenLogo","View","flex","Button","duplicate","height","TokenSearch","provider","tokens","tokenToAdd","setTokenToAdd","findIndex","tk","useEffect","undefined","trim","ethers","utils","isAddress","findOrFetchToken","Input","onChangeText","autoFocus","inputStyle","marginHorizontal","inputContainerStyle","borderBottomWidth","marginRight","labelStyle","paddingTop","paddingBottom","onAddToken","TokenList","loadingTokens","renderItem","item","data","useMemo","filter","sort","compareTokens","length","FlatList","keyExtractor","EmptyList","margin","Text","textAlign","selectable","viewOnly","CloseIcon","SelectIcon","t1","t2","isZero","value2","value1","localeCompare","TokenSelect","addCustomToken","search","setSearch","query","setQuery","find","toLowerCase","Expandable","expanded","onExpand","onChangeSymbol","includes","UnsupportedButton","state","fromSymbol","toSymbol","PriceImpactTooHighButton","useSwapState","useTokenPairState","chainId","updateTokens","getTrade","useSDK","setTrade","unsupported","setUnsupported","swapFee","setSwapFee","swapping","setSwapping","isEmptyValue","block","p","ALCHEMY_PROVIDER","parseBalance","onSwap","result","setFromSymbol","Swap","ChangeNetwork","large","Border","FromTokenSelect","customTokens","ToTokenSelect","setToSymbol","Heading","AmountInput","TokenInput","onAmountChanged","setFromAmount","NoPairNotice","TradeInfo","isETHWETHPair","InfoBox","WrapInfo","SwapInfo","outputAmount","toFixed","price","executionPrice","impact","priceImpact","Meta","label","danger","Number","SwapControls","error","setError","approveRequired","isETH","fromTokenAllowed","gt","isWETH","FetchingButton","setFromTokenAllowed","message","code","ErrorMessage","SwapButton","catch","WrapButton","onWrap","wrapping","UnwrapButton","onUnwrap","unwrapping","SwapScreen","Screen","Container","BackgroundImage","Content","Title","light","Platform","OS","WebFooter"],"mappings":"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","file":"static/js/6.75acca6d.chunk.js","sourcesContent":["import React from \"react\";\n\nimport useTranslation from \"../hooks/useTranslation\";\nimport Button from \"./Button\";\n\nconst InsufficientBalanceButton = ({ symbol }: { symbol: string }) => {\n    const t = useTranslation();\n    return <Button title={symbol ? t(\"insufficient-\", { symbol }) : t(\"insufficient-balance\")} disabled={true} />;\n};\nexport default InsufficientBalanceButton;\n","import React, { FC } from \"react\";\n\nimport { IS_DESKTOP, Spacing } from \"../constants/dimension\";\nimport useColors from \"../hooks/useColors\";\nimport useTranslation from \"../hooks/useTranslation\";\nimport Text from \"./Text\";\n\nexport interface AmountMetaProps {\n    amount?: string;\n    suffix?: string;\n    disabled?: boolean;\n}\n\nconst AmountMeta: FC<AmountMetaProps> = props => {\n    const t = useTranslation();\n    const { textDark, textLight, placeholder } = useColors();\n    return (\n        <Text\n            style={{\n                fontSize: IS_DESKTOP ? 28 : 20,\n                marginBottom: Spacing.normal,\n                color: props.disabled ? placeholder : props.amount ? textDark : textLight\n            }}>\n            {props.disabled ? t(\"n/a\") : props.amount ? props.amount + \" \" + (props.suffix || \"\") : t(\"fetching\")}\n        </Text>\n    );\n};\n\nexport default AmountMeta;\n","import React, { FC, useCallback, useContext, useState } from \"react\";\nimport { View } from \"react-native\";\n\nimport { Spacing } from \"../constants/dimension\";\nimport { EthersContext } from \"../context/EthersContext\";\nimport useTranslation from \"../hooks/useTranslation\";\nimport Token from \"../types/Token\";\nimport Button from \"./Button\";\n\nexport interface ApproveButtonProps {\n    token: Token;\n    spender: string;\n    onSuccess: () => void;\n    onError: (e) => void;\n    hidden?: boolean;\n}\n\nconst ApproveButton: FC<ApproveButtonProps> = props => {\n    const t = useTranslation();\n    const { approveToken } = useContext(EthersContext);\n    const [loading, setLoading] = useState(false);\n    const onPress = useCallback(async () => {\n        if (props.token) {\n            props.onError({});\n            setLoading(true);\n            try {\n                const tx = await approveToken(props.token.address, props.spender);\n                if (tx) {\n                    await tx.wait();\n                    props.onSuccess();\n                }\n            } catch (e) {\n                props.onError(e);\n            } finally {\n                setLoading(false);\n            }\n        }\n    }, [props.token]);\n    if (props.hidden) return <View />;\n    return (\n        <Button\n            title={t(\"approve-\", { symbol: props.token?.symbol || \"\" })}\n            onPress={onPress}\n            loading={loading}\n            containerStyle={{ marginBottom: Spacing.tiny }}\n        />\n    );\n};\n\nexport default ApproveButton;\n","import { useContext } from \"react\";\n\nimport useAsyncEffect from \"use-async-effect\";\nimport { EthersContext, OnBlockListener } from \"../context/EthersContext\";\n\nconst useDelayedOnBlockEffect = (\n    effect: OnBlockListener,\n    getEventName: () => string,\n    inputs?: any[],\n    initialTimeout = 500\n) => {\n    const { addOnBlockListener, removeOnBlockListener } = useContext(EthersContext);\n    const eventName = getEventName();\n    useAsyncEffect<number[]>(\n        () => {\n            return [\n                setTimeout(effect, initialTimeout),\n                setTimeout(() => addOnBlockListener(eventName, effect), initialTimeout)\n            ];\n        },\n        handles => {\n            if (handles) {\n                handles.forEach(handle => clearTimeout(handle));\n                removeOnBlockListener(eventName);\n            }\n        },\n        inputs\n    );\n};\n\nexport default useDelayedOnBlockEffect;\n","import React from \"react\";\n\nimport { IS_DESKTOP, Spacing } from \"../constants/dimension\";\nimport Token from \"../types/Token\";\nimport Text from \"./Text\";\n\nconst TokenName = (props: { token: Token; disabled?: boolean }) => (\n    <Text\n        caption={true}\n        numberOfLines={1}\n        ellipsizeMode={\"tail\"}\n        style={{ marginLeft: Spacing.small, width: 180 }}\n        disabled={props.disabled}>\n        {IS_DESKTOP ? props.token.name : props.token.symbol}\n    </Text>\n);\n\nexport default TokenName;\n","import React from \"react\";\nimport { View, ViewStyle } from \"react-native\";\n\nimport { Spacing } from \"../constants/dimension\";\nimport useColors from \"../hooks/useColors\";\nimport useStyles from \"../hooks/useStyles\";\nimport Button from \"./Button\";\nimport Text from \"./Text\";\n\nexport interface NoticeProps {\n    text: string;\n    clear?: boolean;\n    color?: string;\n    buttonText?: string;\n    onPressButton?: () => void;\n    style?: ViewStyle;\n}\n\nconst Notice = (props: NoticeProps) => {\n    const { textLight } = useColors();\n    const { border } = useStyles();\n    const borderStyle = border({ color: props.color });\n    const color = props.color || textLight;\n    return (\n        <View style={[props.clear ? {} : borderStyle, props.style]}>\n            <Text note={true} style={{ color }}>\n                {props.text}\n            </Text>\n            {props.buttonText && props.onPressButton && (\n                <Button\n                    title={props.buttonText}\n                    type={\"clear\"}\n                    size={\"small\"}\n                    fontWeight={\"bold\"}\n                    onPress={props.onPressButton}\n                    titleStyle={{ color }}\n                    buttonStyle={{ paddingHorizontal: 0, paddingVertical: 0 }}\n                    style={{ alignSelf: \"flex-end\", marginTop: Spacing.tiny }}\n                />\n            )}\n        </View>\n    );\n};\n\nexport default Notice;\n","import useAsyncEffect from \"use-async-effect\";\n\nconst handles = {};\n\nconst useDelayedEffect = (\n    effect: (isMounted: () => boolean) => unknown | Promise<unknown>,\n    timeout: number,\n    inputs?: any[]\n) => {\n    const key = effect.toString();\n    useAsyncEffect<number>(\n        () => {\n            const handle = setTimeout(effect, timeout);\n            handles[key] = handle;\n            return handle;\n        },\n        handle => {\n            clearTimeout(handle);\n        },\n        inputs\n    );\n};\nexport default useDelayedEffect;\n","import React from \"react\";\n\nimport { Spacing } from \"../constants/dimension\";\nimport Token from \"../types/Token\";\nimport Text from \"./Text\";\n\nconst TokenSymbol = (props: { token: Token; disabled?: boolean }) => (\n    <Text medium={true} caption={true} disabled={props.disabled} style={{ marginLeft: Spacing.tiny }}>\n        {props.token.symbol}\n    </Text>\n);\n\nexport default TokenSymbol;\n","import React from \"react\";\nimport { TextStyle } from \"react-native\";\n\nimport { ethers } from \"ethers\";\nimport { IS_DESKTOP } from \"../constants/dimension\";\nimport Token from \"../types/Token\";\nimport { formatBalance } from \"../utils\";\nimport Text from \"./Text\";\n\nconst TokenAmount = (props: { token: Token; amount?: ethers.BigNumber; disabled?: boolean; style?: TextStyle }) => (\n    <Text caption={IS_DESKTOP} disabled={props.disabled} style={props.style}>\n        {formatBalance(props.amount || props.token.balance, props.token.decimals, 8)}\n    </Text>\n);\n\nexport default TokenAmount;\n","import React, { FC } from \"react\";\nimport { TextStyle } from \"react-native\";\n\nimport TokenWithValue from \"../types/TokenWithValue\";\nimport { formatUSD } from \"../utils\";\nimport Text from \"./Text\";\n\nexport interface TokenPriceProps {\n    token: TokenWithValue;\n    disabled?: boolean;\n    style?: TextStyle;\n}\n\nconst TokenPrice: FC<TokenPriceProps> = props => {\n    return (\n        <Text note={true} fontWeight={\"light\"} disabled={props.disabled} style={props.style}>\n            {formatUSD(props.token.priceUSD || 0, 4)}\n        </Text>\n    );\n};\n\nexport default TokenPrice;\n","import React, { FC } from \"react\";\nimport { TextStyle } from \"react-native\";\n\nimport TokenWithValue from \"../types/TokenWithValue\";\nimport { formatUSD } from \"../utils\";\nimport Text from \"./Text\";\n\nexport interface TokenValueProps {\n    token: TokenWithValue;\n    disabled?: boolean;\n    style?: TextStyle;\n}\n\nconst TokenValue: FC<TokenValueProps> = props => {\n    return (\n        <Text note={true} fontWeight={\"light\"} disabled={props.disabled} style={props.style}>\n            {formatUSD(props.token.valueUSD || 0, 4)}\n        </Text>\n    );\n};\n\nexport default TokenValue;\n","import { useCallback } from \"react\";\n\nimport { Percent, Router, Trade } from \"@sushiswap/sdk\";\nimport { ethers } from \"ethers\";\nimport { ROUTER } from \"../constants/contracts\";\nimport Token from \"../types/Token\";\nimport { deduct, getContract } from \"../utils\";\nimport { logTransaction } from \"../utils/analytics-utils\";\n\nexport const FEE = new Percent(\"3\", \"1000\"); // 0.3%\n\n// tslint:disable-next-line:max-func-body-length\nconst useSwapRouter = () => {\n    const allowedSlippage = new Percent(\"50\", \"10000\"); // 0.05%\n    const ttl = 60 * 20;\n\n    const swap = useCallback(async (trade: Trade, signer: ethers.Signer) => {\n        if (trade) {\n            const params = Router.swapCallParameters(trade, {\n                feeOnTransfer: false,\n                allowedSlippage,\n                recipient: await signer.getAddress(),\n                ttl\n            });\n            const router = getContract(\"IUniswapV2Router02\", ROUTER, signer);\n            const gasLimit = await router.estimateGas[params.methodName](...params.args, {\n                value: params.value\n            });\n            const tx = await router.functions[params.methodName](...params.args, {\n                value: params.value,\n                gasLimit: gasLimit.mul(120).div(100)\n            });\n            await logTransaction(\n                tx,\n                \"UniswapV2Router02.\" + params.methodName + \"()\",\n                ...params.args.map(arg => arg.toString())\n            );\n            return {\n                trade,\n                tx\n            };\n        }\n    }, []);\n\n    const addLiquidity = useCallback(\n        async (\n            fromToken: Token,\n            toToken: Token,\n            fromAmount: ethers.BigNumber,\n            toAmount: ethers.BigNumber,\n            signer: ethers.Signer\n        ) => {\n            const router = getContract(\"IUniswapV2Router02\", ROUTER, signer);\n            const deadline = `0x${(Math.floor(new Date().getTime() / 1000) + ttl).toString(16)}`;\n            const args = [\n                fromToken.address,\n                toToken.address,\n                fromAmount,\n                toAmount,\n                deduct(fromAmount, allowedSlippage),\n                deduct(toAmount, allowedSlippage),\n                await signer.getAddress(),\n                deadline\n            ];\n            const gasLimit = await router.estimateGas.addLiquidity(...args);\n            const tx = await router.functions.addLiquidity(...args, {\n                gasLimit: gasLimit.mul(120).div(100)\n            });\n            return logTransaction(tx, \"UniswapV2Router02.addLiquidity()\", ...args.map(arg => arg.toString()));\n        },\n        []\n    );\n\n    const removeLiquidityETH = useCallback(\n        async (\n            token: Token,\n            liquidity: ethers.BigNumber,\n            amount: ethers.BigNumber,\n            amountETH: ethers.BigNumber,\n            signer: ethers.Signer\n        ) => {\n            const router = getContract(\"IUniswapV2Router02\", ROUTER, signer);\n            const deadline = `0x${(Math.floor(new Date().getTime() / 1000) + ttl).toString(16)}`;\n            const args = [\n                token.address,\n                liquidity,\n                deduct(amount, allowedSlippage),\n                deduct(amountETH, allowedSlippage),\n                await signer.getAddress(),\n                deadline\n            ];\n            const gasLimit = await router.estimateGas.removeLiquidityETH(...args);\n            const tx = await router.functions.removeLiquidityETH(...args, {\n                gasLimit: gasLimit.mul(120).div(100)\n            });\n            return logTransaction(tx, \"UniswapV2Router02.removeLiquidityETH()\", ...args.map(arg => arg.toString()));\n        },\n        []\n    );\n\n    const removeLiquidity = useCallback(\n        async (\n            fromToken: Token,\n            toToken: Token,\n            liquidity: ethers.BigNumber,\n            fromAmount: ethers.BigNumber,\n            toAmount: ethers.BigNumber,\n            signer: ethers.Signer\n        ) => {\n            const router = getContract(\"IUniswapV2Router02\", ROUTER, signer);\n            const deadline = `0x${(Math.floor(new Date().getTime() / 1000) + ttl).toString(16)}`;\n            const args = [\n                fromToken.address,\n                toToken.address,\n                liquidity,\n                deduct(fromAmount, allowedSlippage),\n                deduct(toAmount, allowedSlippage),\n                await signer.getAddress(),\n                deadline\n            ];\n            const gasLimit = await router.estimateGas.removeLiquidity(...args);\n            const tx = await router.functions.removeLiquidity(...args, {\n                gasLimit: gasLimit.mul(120).div(100)\n            });\n            return logTransaction(tx, \"UniswapV2Router02.removeLiquidity()\", ...args.map(arg => arg.toString()));\n        },\n        []\n    );\n\n    const addLiquidityETH = useCallback(\n        async (token: Token, amount: ethers.BigNumber, amountETH: ethers.BigNumber, signer: ethers.Signer) => {\n            const router = getContract(\"IUniswapV2Router02\", ROUTER, signer);\n            const deadline = `0x${(Math.floor(new Date().getTime() / 1000) + ttl).toString(16)}`;\n            const args = [\n                token.address,\n                amount,\n                deduct(amount, allowedSlippage),\n                deduct(amountETH, allowedSlippage),\n                await signer.getAddress(),\n                deadline\n            ];\n            const gasLimit = await router.estimateGas.addLiquidityETH(...args, {\n                value: amountETH\n            });\n            const tx = await router.functions.addLiquidityETH(...args, {\n                gasLimit: gasLimit.mul(120).div(100),\n                value: amountETH\n            });\n            return logTransaction(tx, \"UniswapV2Router02.addLiquidityETH()\", ...args.map(arg => arg.toString()));\n        },\n        []\n    );\n\n    const calculateSwapFee = (fromAmount: ethers.BigNumber) => {\n        return fromAmount.mul(3).div(1000);\n    };\n\n    return {\n        allowedSlippage,\n        ttl,\n        swap,\n        addLiquidity,\n        addLiquidityETH,\n        removeLiquidity,\n        removeLiquidityETH,\n        calculateSwapFee\n    };\n};\n\nexport default useSwapRouter;\n","import React, { FC, useCallback, useContext, useEffect, useState } from \"react\";\nimport { ActivityIndicator, View } from \"react-native\";\n\nimport { ethers } from \"ethers\";\nimport { IS_DESKTOP, Spacing } from \"../constants/dimension\";\nimport { EthersContext } from \"../context/EthersContext\";\nimport useColors from \"../hooks/useColors\";\nimport useDelayedEffect from \"../hooks/useDelayedEffect\";\nimport useStyles from \"../hooks/useStyles\";\nimport useTranslation from \"../hooks/useTranslation\";\nimport Token from \"../types/Token\";\nimport { findOrFetchToken } from \"../utils/fetch-utils\";\nimport Button from \"./Button\";\nimport FlexView from \"./FlexView\";\nimport Input from \"./Input\";\nimport { ITEM_SEPARATOR_HEIGHT } from \"./ItemSeparator\";\nimport Selectable from \"./Selectable\";\nimport TokenLogo from \"./TokenLogo\";\nimport TokenName from \"./TokenName\";\n\nexport interface TokenSearchProps {\n    tokens?: Token[];\n    text: string;\n    onChangeText: (text: string) => void;\n    onAddToken?: (token: Token) => void;\n}\n\n// tslint:disable-next-line:max-func-body-length\nconst TokenSearch: FC<TokenSearchProps> = props => {\n    const t = useTranslation();\n    const { border } = useStyles();\n    const { provider, tokens } = useContext(EthersContext);\n    const [tokenToAdd, setTokenToAdd] = useState<Token>();\n    const [loading, setLoading] = useState(false);\n    const duplicate = !!tokenToAdd && tokens.findIndex(tk => tk.address === tokenToAdd.address) !== -1;\n    if (!props.tokens) return <View />;\n    useEffect(() => {\n        if (props.text === \"\") {\n            setLoading(false);\n            setTokenToAdd(undefined);\n        }\n    }, [props.text]);\n    useDelayedEffect(\n        async () => {\n            const address = props.text.trim();\n            if (provider && ethers.utils.isAddress(address)) {\n                setLoading(true);\n                try {\n                    const token = await findOrFetchToken(address, provider);\n                    if (token.name && token.symbol && token.decimals) {\n                        setTokenToAdd(token as Token);\n                    }\n                } finally {\n                    setLoading(false);\n                }\n            }\n        },\n        300,\n        [provider, props.text]\n    );\n    return (\n        <View>\n            <FlexView style={{ marginBottom: Spacing.small }}>\n                <Input\n                    value={props.text}\n                    onChangeText={props.onChangeText}\n                    placeholder={t(\"token-name-symbol-or-address\")}\n                    autoFocus={IS_DESKTOP}\n                    inputStyle={{ marginHorizontal: Spacing.tiny, fontSize: props.text ? 20 : 16 }}\n                    inputContainerStyle={{ borderBottomWidth: 0, marginRight: loading ? 32 : 0 }}\n                    labelStyle={{ height: 0 }}\n                    containerStyle={{\n                        ...border(),\n                        paddingHorizontal: Spacing.tiny,\n                        paddingTop: 12,\n                        paddingBottom: 0\n                    }}\n                />\n                {props.onAddToken && loading && <Loading />}\n            </FlexView>\n            {props.onAddToken && tokenToAdd && (\n                <TokenItem token={tokenToAdd} selected={true} onSelectToken={props.onAddToken} duplicate={duplicate} />\n            )}\n        </View>\n    );\n};\n\nconst Loading = () => <ActivityIndicator size={\"small\"} style={{ position: \"absolute\", right: 16, bottom: 16 }} />;\n\nconst TokenItem = (props: {\n    token: Token;\n    selected: boolean;\n    onSelectToken: (token: Token) => void;\n    duplicate: boolean;\n}) => {\n    const t = useTranslation();\n    const { accent } = useColors();\n    const onPress = useCallback(() => {\n        props.onSelectToken(props.token);\n    }, [props.onSelectToken, props.token]);\n    return (\n        <Selectable\n            selected={false}\n            disabled={true}\n            onPress={onPress}\n            containerStyle={{\n                marginBottom: ITEM_SEPARATOR_HEIGHT\n            }}>\n            <FlexView style={{ alignItems: \"center\" }}>\n                <TokenLogo token={props.token} />\n                <TokenName token={props.token} />\n                <View style={{ flex: 1 }} />\n                <Button\n                    type={\"clear\"}\n                    size={\"small\"}\n                    color={accent}\n                    title={props.duplicate ? t(\"already-added\") : t(\"-add-\") + \" \" + props.token.symbol}\n                    fontWeight={\"bold\"}\n                    onPress={onPress}\n                    disabled={props.duplicate}\n                    buttonStyle={{ paddingHorizontal: 4, height: 27 }}\n                />\n            </FlexView>\n        </Selectable>\n    );\n};\n\nexport default TokenSearch;\n","import React, { FC, useCallback, useContext, useEffect, useMemo, useState } from \"react\";\nimport { FlatList, View, ViewStyle } from \"react-native\";\n\nimport { IS_DESKTOP, Spacing } from \"../constants/dimension\";\nimport { EthersContext } from \"../context/EthersContext\";\nimport useDelayedEffect from \"../hooks/useDelayedEffect\";\nimport useTranslation from \"../hooks/useTranslation\";\nimport Token from \"../types/Token\";\nimport TokenWithValue from \"../types/TokenWithValue\";\nimport CloseIcon from \"./CloseIcon\";\nimport Expandable from \"./Expandable\";\nimport FlexView from \"./FlexView\";\nimport { ITEM_SEPARATOR_HEIGHT } from \"./ItemSeparator\";\nimport Loading from \"./Loading\";\nimport Selectable from \"./Selectable\";\nimport SelectIcon from \"./SelectIcon\";\nimport Text from \"./Text\";\nimport TokenAmount from \"./TokenAmount\";\nimport TokenLogo from \"./TokenLogo\";\nimport TokenName from \"./TokenName\";\nimport TokenPrice from \"./TokenPrice\";\nimport TokenSearch from \"./TokenSearch\";\nimport TokenSymbol from \"./TokenSymbol\";\nimport TokenValue from \"./TokenValue\";\n\nexport interface TokenSelectProps {\n    title: string;\n    symbol: string;\n    onChangeSymbol: (symbol: string) => void;\n    disabled?: (token: Token) => boolean;\n    hidden?: (token: Token) => boolean;\n    viewOnly?: boolean;\n    style?: ViewStyle;\n}\n\n// tslint:disable-next-line:max-func-body-length\nconst TokenSelect: FC<TokenSelectProps> = props => {\n    const { tokens, addCustomToken } = useContext(EthersContext);\n    const [search, setSearch] = useState(\"\");\n    const [query, setQuery] = useState(\"\");\n    const token = useMemo(() => tokens.find(t => t.symbol === props.symbol), [tokens, props.symbol]);\n    const onSelectToken = t => props.onChangeSymbol(t.symbol);\n    const onUnselectToken = () => props.onChangeSymbol(\"\");\n    const onAddToken = async (t: Token) => {\n        await addCustomToken(t);\n        setSearch(\"\");\n        setQuery(\"\");\n        props.onChangeSymbol(t.symbol);\n    };\n    const hidden = (t: Token) => {\n        if (query.length > 0) {\n            return !t.symbol.toLowerCase().includes(query) && !t.name.toLowerCase().includes(query);\n        }\n        return props.hidden?.(t) || false;\n    };\n    useEffect(() => setSearch(\"\"), [props.symbol]);\n    useDelayedEffect(() => setQuery(search.trim().toLowerCase()), 300, [search]);\n    return (\n        <View style={props.style}>\n            <Expandable\n                title={props.title}\n                expanded={!props.symbol}\n                viewOnly={true}\n                onExpand={() => props.onChangeSymbol(\"\")}>\n                <TokenSearch text={search} onChangeText={setSearch} tokens={tokens} onAddToken={onAddToken} />\n                <TokenList disabled={props.disabled} hidden={hidden} onSelectToken={onSelectToken} />\n            </Expandable>\n            {token && (\n                <TokenItem\n                    token={token}\n                    selected={true}\n                    onSelectToken={onUnselectToken}\n                    selectable={true}\n                    viewOnly={props.viewOnly}\n                />\n            )}\n        </View>\n    );\n};\n\nconst TokenList = (props: {\n    onSelectToken: (token: Token) => void;\n    disabled?: (token: Token) => boolean;\n    hidden?: (token: Token) => boolean;\n}) => {\n    const { loadingTokens, tokens } = useContext(EthersContext);\n    const renderItem = useCallback(\n        ({ item }) => {\n            return (\n                <TokenItem\n                    key={item.address}\n                    token={item}\n                    selected={false}\n                    onSelectToken={props.onSelectToken}\n                    disabled={props.disabled?.(item)}\n                />\n            );\n        },\n        [props.onSelectToken, props.disabled]\n    );\n    const data = useMemo(\n        () => tokens.filter(token => (props.hidden ? !props.hidden(token) : true)).sort(compareTokens),\n        [tokens, props.hidden]\n    );\n    return loadingTokens ? (\n        <Loading />\n    ) : data.length === 0 ? (\n        <EmptyList />\n    ) : (\n        <FlatList keyExtractor={item => item.address} data={data} renderItem={renderItem} />\n    );\n};\n\nconst EmptyList = () => {\n    const t = useTranslation();\n    return (\n        <View style={{ margin: Spacing.normal }}>\n            <Text disabled={true} style={{ textAlign: \"center\", width: \"100%\" }}>\n                {t(\"you-dont-have-assets\")}\n            </Text>\n        </View>\n    );\n};\n\n// tslint:disable-next-line:max-func-body-length\nconst TokenItem = (props: {\n    token: TokenWithValue;\n    selected: boolean;\n    onSelectToken: (token: Token) => void;\n    disabled?: boolean;\n    selectable?: boolean;\n    viewOnly?: boolean;\n}) => {\n    const onPress = useCallback(() => {\n        props.onSelectToken(props.token);\n    }, [props.onSelectToken, props.token]);\n    return (\n        <Selectable\n            selected={props.selected}\n            onPress={onPress}\n            disabled={props.disabled || props.selectable}\n            containerStyle={{\n                marginBottom: ITEM_SEPARATOR_HEIGHT\n            }}>\n            <FlexView style={{ alignItems: \"center\" }}>\n                <TokenLogo token={props.token} disabled={props.disabled} />\n                <View>\n                    {props.token.priceUSD !== null && (\n                        <TokenPrice\n                            token={props.token}\n                            disabled={props.disabled}\n                            style={{ marginLeft: Spacing.small }}\n                        />\n                    )}\n                    <TokenName token={props.token} disabled={props.disabled} />\n                </View>\n                <View style={{ flex: 1, alignItems: \"flex-end\" }}>\n                    {props.token.valueUSD !== null && <TokenValue token={props.token} disabled={props.disabled} />}\n                    <FlexView>\n                        <TokenAmount\n                            token={props.token}\n                            disabled={props.disabled}\n                            style={{ flex: 1, textAlign: \"right\" }}\n                        />\n                        {IS_DESKTOP && <TokenSymbol token={props.token} disabled={props.disabled} />}\n                    </FlexView>\n                </View>\n                {props.selected ? !props.viewOnly && <CloseIcon /> : <SelectIcon />}\n            </FlexView>\n        </Selectable>\n    );\n};\n\nconst compareTokens = (t1: TokenWithValue, t2: TokenWithValue) => {\n    if (t2.balance.isZero() && t1.balance.isZero()) return (t2?.priceUSD || 0) - (t1?.priceUSD || 0);\n    const value2 = t2?.valueUSD || 0;\n    const value1 = t1?.valueUSD || 1;\n    if (value2 === value1) {\n        return (\n            (t2.balance.isZero() ? 0 : 10000000000) -\n            (t1.balance.isZero() ? 0 : 10000000000) +\n            t1.symbol.localeCompare(t2.symbol)\n        );\n    }\n    return value2 - value1;\n};\n\nexport default TokenSelect;\n","import React from \"react\";\n\nimport { TokenPairState } from \"../hooks/useTokenPairState\";\nimport useTranslation from \"../hooks/useTranslation\";\nimport Button from \"./Button\";\n\nconst UnsupportedButton = ({ state }: { state: TokenPairState }) => {\n    const t = useTranslation();\n    return <Button title={state.fromSymbol + \"-\" + state.toSymbol + \" \" + t(\"not-supported\")} disabled={true} />;\n};\n\nexport default UnsupportedButton;\n","import React from \"react\";\n\nimport useTranslation from \"../hooks/useTranslation\";\nimport Button from \"./Button\";\n\nconst PriceImpactTooHighButton = () => {\n    const t = useTranslation();\n    return <Button title={t(\"price-impact-too-high\")} disabled={true} />;\n};\nexport default PriceImpactTooHighButton;\n","import { useCallback, useContext, useState } from \"react\";\n\nimport { Trade } from \"@sushiswap/sdk\";\nimport useAsyncEffect from \"use-async-effect\";\nimport { ALCHEMY_PROVIDER, EthersContext } from \"../context/EthersContext\";\nimport { formatBalance, isEmptyValue, parseBalance } from \"../utils\";\nimport useDelayedEffect from \"./useDelayedEffect\";\nimport useDelayedOnBlockEffect from \"./useDelayedOnBlockEffect\";\nimport useSDK from \"./useSDK\";\nimport useSwapRouter from \"./useSwapRouter\";\nimport useTokenPairState, { TokenPairState } from \"./useTokenPairState\";\n\nexport interface SwapState extends TokenPairState {\n    trade?: Trade;\n    unsupported: boolean;\n    swapFee: string;\n    onSwap: () => Promise<void>;\n    swapping: boolean;\n}\n\n// tslint:disable-next-line:max-func-body-length\nconst useSwapState: () => SwapState = () => {\n    const state = useTokenPairState();\n    const { chainId, provider, signer, updateTokens } = useContext(EthersContext);\n    const { getTrade } = useSDK();\n    const { swap, calculateSwapFee } = useSwapRouter();\n    const [loading, setLoading] = useState(true);\n    const [trade, setTrade] = useState<Trade>();\n    const [unsupported, setUnsupported] = useState(false);\n    const [swapFee, setSwapFee] = useState(\"\");\n    const [swapping, setSwapping] = useState(false);\n\n    useDelayedEffect(\n        () => {\n            if (isEmptyValue(state.fromAmount)) {\n                setTrade(undefined);\n            }\n        },\n        300,\n        [state.fromAmount]\n    );\n\n    useDelayedOnBlockEffect(\n        async block => {\n            if (!block) {\n                setLoading(true);\n            }\n            const p = chainId === 1 ? provider : ALCHEMY_PROVIDER;\n            if (state.fromToken && state.toToken && state.fromAmount && p) {\n                const amount = parseBalance(state.fromAmount, state.fromToken.decimals);\n                if (!amount.isZero()) {\n                    setUnsupported(false);\n                    try {\n                        setTrade(await getTrade(state.fromToken, state.toToken, amount, p));\n                    } catch (e) {\n                        setUnsupported(true);\n                    } finally {\n                        setLoading(false);\n                    }\n                }\n            }\n        },\n        () => \"getTrade(\" + state.fromSymbol + \",\" + state.toSymbol + \",\" + state.fromAmount + \")\",\n        [chainId, provider, state.fromToken, state.toToken, state.fromAmount]\n    );\n\n    useAsyncEffect(() => {\n        if (trade && !isEmptyValue(state.fromAmount)) {\n            const fromAmount = parseBalance(state.fromAmount, state.fromToken!.decimals);\n            setSwapFee(formatBalance(calculateSwapFee(fromAmount), state.fromToken!.decimals, 8));\n        }\n    }, [trade, state.fromAmount]);\n\n    const onSwap = useCallback(async () => {\n        if (state.fromToken && state.toToken && state.fromAmount && signer && trade) {\n            setSwapping(true);\n            try {\n                const result = await swap(trade, signer);\n                if (result) {\n                    await result.tx.wait();\n                    await updateTokens();\n                    setTrade(undefined);\n                    state.setFromSymbol(\"\");\n                }\n            } finally {\n                setSwapping(false);\n            }\n        }\n    }, [state.fromToken, state.toToken, state.fromAmount, signer, trade]);\n\n    return {\n        ...state,\n        loading: loading || state.loading,\n        trade,\n        unsupported,\n        swapFee,\n        onSwap,\n        swapping\n    };\n};\n\nexport default useSwapState;\n","import React, { useCallback, useContext, useState } from \"react\";\nimport { Platform, View } from \"react-native\";\n\nimport useAsyncEffect from \"use-async-effect\";\nimport AmountMeta from \"../components/AmountMeta\";\nimport ApproveButton from \"../components/ApproveButton\";\nimport BackgroundImage from \"../components/BackgroundImage\";\nimport Border from \"../components/Border\";\nimport Button from \"../components/Button\";\nimport ChangeNetwork from \"../components/ChangeNetwork\";\nimport Container from \"../components/Container\";\nimport Content from \"../components/Content\";\nimport ErrorMessage from \"../components/ErrorMessage\";\nimport FetchingButton from \"../components/FetchingButton\";\nimport Heading from \"../components/Heading\";\nimport InfoBox from \"../components/InfoBox\";\nimport InsufficientBalanceButton from \"../components/InsufficientBalanceButton\";\nimport Meta from \"../components/Meta\";\nimport Notice from \"../components/Notice\";\nimport PriceImpactTooHighButton from \"../components/PriceImpactTooHighButton\";\nimport Text from \"../components/Text\";\nimport Title from \"../components/Title\";\nimport TokenInput from \"../components/TokenInput\";\nimport TokenSelect from \"../components/TokenSelect\";\nimport UnsupportedButton from \"../components/UnsupportedButton\";\nimport WebFooter from \"../components/web/WebFooter\";\nimport { SwapSubMenu } from \"../components/web/WebSubMenu\";\nimport { ROUTER } from \"../constants/contracts\";\nimport { IS_DESKTOP, Spacing } from \"../constants/dimension\";\nimport { EthersContext } from \"../context/EthersContext\";\nimport useSwapState, { SwapState } from \"../hooks/useSwapState\";\nimport useTranslation from \"../hooks/useTranslation\";\nimport MetamaskError from \"../types/MetamaskError\";\nimport { isEmptyValue, isETH, isETHWETHPair, isWETH, parseBalance } from \"../utils\";\nimport Screen from \"./Screen\";\n\nconst MAX_PRICE_IMPACT = 7;\n\nconst SwapScreen = () => {\n    const t = useTranslation();\n    return (\n        <Screen>\n            <Container>\n                <BackgroundImage />\n                <Content>\n                    <Title text={t(\"new-order\")} />\n                    <Text light={true}>{t(\"new-order-desc\")}</Text>\n                    <Swap />\n                </Content>\n                {Platform.OS === \"web\" && <WebFooter />}\n            </Container>\n            <SwapSubMenu />\n        </Screen>\n    );\n};\n\nconst Swap = () => {\n    const { chainId } = useContext(EthersContext);\n    const state = useSwapState();\n    if (chainId !== 1 && chainId !== 42) return <ChangeNetwork />;\n    return (\n        <View style={{ marginTop: Spacing.large }}>\n            <FromTokenSelect state={state} />\n            <Border />\n            <ToTokenSelect state={state} />\n            <Border />\n            <AmountInput state={state} />\n            {!state.loading && !state.trade && <NoPairNotice state={state} />}\n            <TradeInfo state={state} />\n        </View>\n    );\n};\n\nconst FromTokenSelect = ({ state }: { state: SwapState }) => {\n    const t = useTranslation();\n    const { customTokens } = useContext(EthersContext);\n    return (\n        <View>\n            <TokenSelect\n                title={t(\"token-to-sell\")}\n                symbol={state.fromSymbol}\n                onChangeSymbol={state.setFromSymbol}\n                hidden={token => !customTokens.find(tk => tk.address === token.address) && token.balance.isZero()}\n            />\n        </View>\n    );\n};\n\nconst ToTokenSelect = ({ state }: { state: SwapState }) => {\n    const t = useTranslation();\n    if (!state.fromSymbol) {\n        return <Heading text={t(\"token-to-buy\")} disabled={true} />;\n    }\n    return (\n        <View>\n            <TokenSelect\n                title={t(\"token-to-buy\")}\n                symbol={state.toSymbol}\n                onChangeSymbol={state.setToSymbol}\n                hidden={token => token.symbol === state.fromSymbol}\n            />\n        </View>\n    );\n};\n\nconst AmountInput = ({ state }: { state: SwapState }) => {\n    const t = useTranslation();\n    if (!state.fromSymbol || !state.toSymbol) {\n        return <Heading text={t(\"amount\")} disabled={true} />;\n    }\n    return (\n        <View>\n            <Heading text={state.fromSymbol + \" \" + t(\"amount\")} />\n            <TokenInput\n                token={state.fromToken}\n                amount={state.fromAmount}\n                onAmountChanged={state.setFromAmount}\n                autoFocus={IS_DESKTOP}\n            />\n        </View>\n    );\n};\n\nconst NoPairNotice = ({ state }: { state: SwapState }) => {\n    const t = useTranslation();\n    return (\n        <Notice\n            text={t(\"pair-not-created\", { fromSymbol: state.fromSymbol, toSymbol: state.toSymbol })}\n            color={\"red\"}\n            style={{ marginTop: Spacing.normal }}\n        />\n    );\n};\n\nconst TradeInfo = ({ state }: { state: SwapState }) => {\n    if (isETHWETHPair(state.fromToken, state.toToken)) return <WrapInfo state={state} />;\n    const disabled =\n        state.fromSymbol === \"\" ||\n        state.toSymbol === \"\" ||\n        isEmptyValue(state.fromAmount) ||\n        (!state.loading && !state.trade);\n    return (\n        <InfoBox>\n            <SwapInfo state={state} disabled={disabled} />\n        </InfoBox>\n    );\n};\n\nconst WrapInfo = ({ state }: { state: SwapState }) => {\n    const disabled = isEmptyValue(state.fromAmount);\n    return (\n        <InfoBox>\n            <Text style={{ fontSize: 28, marginBottom: Spacing.normal }} disabled={disabled}>\n                {disabled ? \"N/A\" : state.fromAmount + \" \" + state.toSymbol}\n            </Text>\n            <SwapControls state={state} />\n        </InfoBox>\n    );\n};\n\nconst SwapInfo = ({ state, disabled }: { state: SwapState; disabled: boolean }) => {\n    const t = useTranslation();\n    const amount = state.trade?.outputAmount?.toFixed();\n    const price = state.trade?.executionPrice?.toFixed();\n    const impact = state.trade?.priceImpact?.toFixed(2);\n    return (\n        <View>\n            <AmountMeta amount={amount} suffix={state.toSymbol} disabled={disabled} />\n            <Meta\n                label={t(\"price\")}\n                text={price}\n                suffix={state.toSymbol + \"  = 1 \" + state.fromSymbol}\n                disabled={disabled}\n            />\n            <Meta label={t(\"fee-amount\")} text={state.swapFee} suffix={state.fromSymbol} disabled={disabled} />\n            <Meta\n                label={t(\"price-impact\")}\n                text={impact}\n                suffix={\"%\"}\n                danger={!!impact && Number(impact) > MAX_PRICE_IMPACT}\n                disabled={disabled}\n            />\n            <SwapControls state={state} />\n        </View>\n    );\n};\n\n// tslint:disable-next-line:max-func-body-length\nconst SwapControls = ({ state }: { state: SwapState }) => {\n    const [error, setError] = useState<MetamaskError>({});\n    useAsyncEffect(() => setError({}), [state.fromSymbol, state.toSymbol, state.fromAmount]);\n    const approveRequired = !isETH(state.fromToken) && !state.fromTokenAllowed;\n    const impact = state.trade?.priceImpact?.toFixed(2);\n    return (\n        <View style={{ marginTop: Spacing.normal }}>\n            {!state.fromToken ||\n            !state.toToken ||\n            isEmptyValue(state.fromAmount) ||\n            (!state.loading && !state.trade) ? (\n                <SwapButton state={state} onError={setError} disabled={true} />\n            ) : parseBalance(state.fromAmount, state.fromToken.decimals).gt(state.fromToken.balance) ? (\n                <InsufficientBalanceButton symbol={state.fromSymbol} />\n            ) : isWETH(state.fromToken) && isETH(state.toToken) ? (\n                <UnwrapButton state={state} onError={setError} />\n            ) : isETH(state.fromToken) && isWETH(state.toToken) ? (\n                <WrapButton state={state} onError={setError} />\n            ) : state.unsupported ? (\n                <UnsupportedButton state={state} />\n            ) : state.loading || !state.trade ? (\n                <FetchingButton />\n            ) : impact && Number(impact) > MAX_PRICE_IMPACT ? (\n                <PriceImpactTooHighButton />\n            ) : (\n                <>\n                    <ApproveButton\n                        token={state.fromToken}\n                        spender={ROUTER}\n                        onSuccess={() => state.setFromTokenAllowed(true)}\n                        onError={setError}\n                        hidden={!approveRequired}\n                    />\n                    <SwapButton state={state} onError={setError} disabled={approveRequired} />\n                </>\n            )}\n            {error.message && error.code !== 4001 && <ErrorMessage error={error} />}\n        </View>\n    );\n};\n\nconst SwapButton = ({ state, onError, disabled }: { state: SwapState; onError: (e) => void; disabled: boolean }) => {\n    const t = useTranslation();\n    const onPress = useCallback(() => {\n        onError({});\n        state.onSwap().catch(onError);\n    }, [state.onSwap, onError]);\n    return (\n        <Button\n            title={t(\"swap-\", {\n                symbol: state.fromSymbol && state.toSymbol ? \" \" + state.fromSymbol + \"-\" + state.toSymbol : \"\"\n            })}\n            disabled={disabled}\n            loading={state.swapping}\n            onPress={onPress}\n        />\n    );\n};\n\nconst WrapButton = ({ state, onError }: { state: SwapState; onError: (e) => void }) => {\n    const t = useTranslation();\n    const onPress = useCallback(async () => {\n        onError({});\n        state.onWrap().catch(onError);\n    }, []);\n    return <Button title={t(\"wrap\")} loading={state.wrapping} onPress={onPress} />;\n};\n\nconst UnwrapButton = ({ state, onError }: { state: SwapState; onError: (e) => void }) => {\n    const t = useTranslation();\n    const onPress = useCallback(async () => {\n        onError({});\n        state.onUnwrap().catch(onError);\n    }, []);\n    return <Button title={t(\"unwrap\")} loading={state.unwrapping} onPress={onPress} />;\n};\n\nexport default SwapScreen;\n"],"sourceRoot":""}